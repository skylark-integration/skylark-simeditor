{"version":3,"sources":["buttons/HrButton.js"],"names":["define","$","extend","SimpleModule","Toolbar","Simditor","Button","HrButton","inherit","prototype","name","icon","htmlTag","_status","command","$hr","$newBlock","$rootBlock","this","editor","selection","rootNodes","first","next","length","save","append","util","phBr","insertAfter","setRangeAtStartOf","restore","trigger","addButton"],"mappings":";;;;;;;AAAAA,QACE,iBACA,aACA,YACA,aACA,cACA,aACA,SAASC,EAAEC,EAAOC,EAAaC,EAAQC,EAASC,GAE/C,IAAIC,EAAWD,EAAOE,YAkCvB,OA7BAD,EAASE,UAAUC,KAAO,KAE1BH,EAASE,UAAUE,KAAO,QAE1BJ,EAASE,UAAUG,QAAU,KAE7BL,EAASE,UAAUI,QAAU,aAE7BN,EAASE,UAAUK,QAAU,WAC3B,IAAIC,EAAKC,EAAuBC,EAehC,OAdAA,EAAaC,KAAKC,OAAOC,UAAUC,YAAYC,SACvBC,OACTC,OAAS,EACtBN,KAAKC,OAAOC,UAAUK,OAEtBT,EAAYf,EAAE,QAAQyB,OAAOR,KAAKC,OAAOQ,KAAKC,MAEhDb,EAAMd,EAAE,SAAS4B,YAAYZ,GACzBD,GACFA,EAAUa,YAAYd,GACtBG,KAAKC,OAAOC,UAAUU,kBAAkBd,IAExCE,KAAKC,OAAOC,UAAUW,UAEjBb,KAAKC,OAAOa,QAAQ,iBAG7B3B,EAASD,QAAQ6B,UAAU1B,GAEpBA","file":"../../buttons/HrButton.js","sourcesContent":["define([\r\n  \"skylark-jquery\",\r\n  \"../_extend\",\r\n  \"../Module\",\r\n  \"../Toolbar\",\r\n  \"../Simditor\",\r\n  \"../Button\"\r\n],function($,extend,SimpleModule,Toolbar,Simditor,Button){ \r\n\r\n   var HrButton = Button.inherit({\r\n\r\n   });\r\n\r\n\r\n  HrButton.prototype.name = 'hr';\r\n\r\n  HrButton.prototype.icon = 'minus';\r\n\r\n  HrButton.prototype.htmlTag = 'hr';\r\n\r\n  HrButton.prototype._status = function() {};\r\n\r\n  HrButton.prototype.command = function() {\r\n    var $hr, $newBlock, $nextBlock, $rootBlock;\r\n    $rootBlock = this.editor.selection.rootNodes().first();\r\n    $nextBlock = $rootBlock.next();\r\n    if ($nextBlock.length > 0) {\r\n      this.editor.selection.save();\r\n    } else {\r\n      $newBlock = $('<p/>').append(this.editor.util.phBr);\r\n    }\r\n    $hr = $('<hr/>').insertAfter($rootBlock);\r\n    if ($newBlock) {\r\n      $newBlock.insertAfter($hr);\r\n      this.editor.selection.setRangeAtStartOf($newBlock);\r\n    } else {\r\n      this.editor.selection.restore();\r\n    }\r\n    return this.editor.trigger('valuechanged');\r\n  };\r\n\r\n  Simditor.Toolbar.addButton(HrButton);\r\n\r\n  return HrButton;\r\n\t\r\n});"]}