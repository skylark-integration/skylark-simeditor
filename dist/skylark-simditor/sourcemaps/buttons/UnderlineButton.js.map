{"version":3,"sources":["buttons/UnderlineButton.js"],"names":["define","$","Toolbar","Simditor","Button","UnderlineButton","inherit","prototype","name","icon","htmlTag","disableTag","shortcut","render","this","editor","util","os","mac","title","call","_activeStatus","active","document","queryCommandState","setActive","command","execCommand","support","oninput","trigger","addButton"],"mappings":";;;;;;;AAAAA,QACE,0BACA,aACA,cACA,aACA,SAASC,EAAEC,EAAQC,EAASC,GAC5B,IAAIC,EAAkBD,EAAOE,YA2C7B,OAtCAD,EAAgBE,UAAUC,KAAO,YAEjCH,EAAgBE,UAAUE,KAAO,YAEjCJ,EAAgBE,UAAUG,QAAU,IAEpCL,EAAgBE,UAAUI,WAAa,MAEvCN,EAAgBE,UAAUK,SAAW,QAErCP,EAAgBE,UAAUM,OAAS,WAOjC,OANIC,KAAKC,OAAOC,KAAKC,GAAGC,IACtBJ,KAAKK,MAAQL,KAAKK,MAAQ,gBAE1BL,KAAKK,MAAQL,KAAKK,MAAQ,gBAC1BL,KAAKF,SAAW,UAEXR,EAAOG,UAAUM,OAAOO,KAAKN,OAGtCT,EAAgBE,UAAUc,cAAgB,WACxC,IAAIC,EAGJ,OAFAA,GAAqD,IAA5CC,SAASC,kBAAkB,aACpCV,KAAKW,UAAUH,GACRR,KAAKQ,QAGdjB,EAAgBE,UAAUmB,QAAU,WAKlC,OAJAH,SAASI,YAAY,aAChBb,KAAKC,OAAOC,KAAKY,QAAQC,SAC5Bf,KAAKC,OAAOe,QAAQ,gBAEf7B,EAAEsB,UAAUO,QAAQ,oBAI7B3B,EAASD,QAAQ6B,UAAU1B,GAEpBA","file":"../../buttons/UnderlineButton.js","sourcesContent":["define([\r\n  \"skylark-utils-dom/query\",\r\n  \"../Toolbar\",\r\n  \"../Simditor\",\r\n  \"../Button\"\r\n],function($,Toolbar,Simditor,Button){\r\n  var UnderlineButton = Button.inherit({\r\n\r\n   });\r\n\r\n\r\n  UnderlineButton.prototype.name = 'underline';\r\n\r\n  UnderlineButton.prototype.icon = 'underline';\r\n\r\n  UnderlineButton.prototype.htmlTag = 'u';\r\n\r\n  UnderlineButton.prototype.disableTag = 'pre';\r\n\r\n  UnderlineButton.prototype.shortcut = 'cmd+u';\r\n\r\n  UnderlineButton.prototype.render = function() {\r\n    if (this.editor.util.os.mac) {\r\n      this.title = this.title + ' ( Cmd + u )';\r\n    } else {\r\n      this.title = this.title + ' ( Ctrl + u )';\r\n      this.shortcut = 'ctrl+u';\r\n    }\r\n    return Button.prototype.render.call(this);\r\n  };\r\n\r\n  UnderlineButton.prototype._activeStatus = function() {\r\n    var active;\r\n    active = document.queryCommandState('underline') === true;\r\n    this.setActive(active);\r\n    return this.active;\r\n  };\r\n\r\n  UnderlineButton.prototype.command = function() {\r\n    document.execCommand('underline');\r\n    if (!this.editor.util.support.oninput) {\r\n      this.editor.trigger('valuechanged');\r\n    }\r\n    return $(document).trigger('selectionchange');\r\n  };\r\n\r\n\r\n  Simditor.Toolbar.addButton(UnderlineButton);\r\n\r\n  return UnderlineButton;\r\n\r\n});"]}