/**
 * skylark-simditor - A version of simditor.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-simditor/
 * @license MIT
 */
define(["skylark-utils-dom/query","../Toolbar","../Simditor","../Button","../i18n"],function(e,t,a,n,i){var o=n.inherit({});return o.prototype.name="fontScale",o.prototype.icon="font",o.prototype.htmlTag="span",o.prototype.disableTag="pre, h1, h2, h3, h4, h5",o.prototype.sizeMap={"x-large":"1.5em",large:"1.25em",small:".75em","x-small":".5em"},o.prototype._init=function(){return this.menu=[{name:"150%",text:i.translate("fontScaleXLarge"),param:"5"},{name:"125%",text:i.translate("fontScaleLarge"),param:"4"},{name:"100%",text:i.translate("fontScaleNormal"),param:"3"},{name:"75%",text:i.translate("fontScaleSmall"),param:"2"},{name:"50%",text:i.translate("fontScaleXSmall"),param:"1"}],n.prototype._init.call(this)},o.prototype._activeStatus=function(){var e,t,a,n,i;return this.editor.editable.selection.range(),i=this.editor.editable.selection.startNodes(),a=this.editor.editable.selection.endNodes(),n=i.filter('span[style*="font-size"]'),t=a.filter('span[style*="font-size"]'),e=i.length>0&&a.length>0&&n.is(t),this.setActive(e),this.active},o.prototype.command=function(t){var a,n,i;if(!(n=this.editor.editable.selection.range()).collapsed)return this.editor.editable.selection.range(n),document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,t),document.execCommand("styleWithCSS",!1,!1),this.editor.editable.selection.reset(),this.editor.editable.selection.range(),((a=this.editor.editable.selection.containerNode())[0].nodeType===Node.TEXT_NODE?a.closest('span[style*="font-size"]'):a.find('span[style*="font-size"]')).each((i=this,function(t,a){var n,o;return n=e(a),o=a.style.fontSize,/large|x-large|small|x-small/.test(o)?n.css("fontSize",i.sizeMap[o]):"medium"===o?n[0].style.length>1?n.css("fontSize",""):n.replaceWith(n.contents()):void 0})),this.editor.trigger("valuechanged")},a.Toolbar.addButton(o),o});
//# sourceMappingURL=../sourcemaps/buttons/FontScaleButton.js.map
