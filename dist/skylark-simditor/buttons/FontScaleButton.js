/**
 * skylark-simditor - A version of simditor.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-simditor/
 * @license MIT
 */
define(["skylark-jquery","../Toolbar","../Simditor","../Button"],function(t,e,o,n){var i=n.inherit({});return i.prototype.name="fontScale",i.prototype.icon="font",i.prototype.htmlTag="span",i.prototype.disableTag="pre, h1, h2, h3, h4, h5",i.prototype.sizeMap={"x-large":"1.5em",large:"1.25em",small:".75em","x-small":".5em"},i.prototype._init=function(){return this.menu=[{name:"150%",text:this._t("fontScaleXLarge"),param:"5"},{name:"125%",text:this._t("fontScaleLarge"),param:"4"},{name:"100%",text:this._t("fontScaleNormal"),param:"3"},{name:"75%",text:this._t("fontScaleSmall"),param:"2"},{name:"50%",text:this._t("fontScaleXSmall"),param:"1"}],n.prototype._init.call(this)},i.prototype._activeStatus=function(){var t,e,o,n,i;return this.editor.selection.range(),i=this.editor.selection.startNodes(),o=this.editor.selection.endNodes(),n=i.filter('span[style*="font-size"]'),e=o.filter('span[style*="font-size"]'),t=i.length>0&&o.length>0&&n.is(e),this.setActive(t),this.active},i.prototype.command=function(e){var o,n,i;if(!(n=this.editor.selection.range()).collapsed)return this.editor.selection.range(n),document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,e),document.execCommand("styleWithCSS",!1,!1),this.editor.selection.reset(),this.editor.selection.range(),((o=this.editor.selection.containerNode())[0].nodeType===Node.TEXT_NODE?o.closest('span[style*="font-size"]'):o.find('span[style*="font-size"]')).each((i=this,function(e,o){var n,a;return n=t(o),a=o.style.fontSize,/large|x-large|small|x-small/.test(a)?n.css("fontSize",i.sizeMap[a]):"medium"===a?n[0].style.length>1?n.css("fontSize",""):n.replaceWith(n.contents()):void 0})),this.editor.trigger("valuechanged")},o.Toolbar.addButton(i),i});
//# sourceMappingURL=../sourcemaps/buttons/FontScaleButton.js.map
