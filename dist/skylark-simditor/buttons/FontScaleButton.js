/**
 * skylark-simditor - A version of simditor.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-simditor/
 * @license MIT
 */
define(["skylark-utils-dom/query","../Toolbar","../Simditor","../Button","../i18n"],function(e,t,n,a,o){var i=a.inherit({});return i.prototype.name="fontScale",i.prototype.icon="font",i.prototype.htmlTag="span",i.prototype.disableTag="pre, h1, h2, h3, h4, h5",i.prototype.sizeMap={"x-large":"1.5em",large:"1.25em",small:".75em","x-small":".5em"},i.prototype._init=function(){return this.menu=[{name:"150%",text:o.translate("fontScaleXLarge"),param:"5"},{name:"125%",text:o.translate("fontScaleLarge"),param:"4"},{name:"100%",text:o.translate("fontScaleNormal"),param:"3"},{name:"75%",text:o.translate("fontScaleSmall"),param:"2"},{name:"50%",text:o.translate("fontScaleXSmall"),param:"1"}],a.prototype._init.call(this)},i.prototype._activeStatus=function(){var e,t,n,a,o;return this.editor.selection.range(),o=this.editor.selection.startNodes(),n=this.editor.selection.endNodes(),a=o.filter('span[style*="font-size"]'),t=n.filter('span[style*="font-size"]'),e=o.length>0&&n.length>0&&a.is(t),this.setActive(e),this.active},i.prototype.command=function(t){var n,a,o;if(!(a=this.editor.selection.range()).collapsed)return this.editor.selection.range(a),document.execCommand("styleWithCSS",!1,!0),document.execCommand("fontSize",!1,t),document.execCommand("styleWithCSS",!1,!1),this.editor.selection.reset(),this.editor.selection.range(),((n=this.editor.selection.containerNode())[0].nodeType===Node.TEXT_NODE?n.closest('span[style*="font-size"]'):n.find('span[style*="font-size"]')).each((o=this,function(t,n){var a,i;return a=e(n),i=n.style.fontSize,/large|x-large|small|x-small/.test(i)?a.css("fontSize",o.sizeMap[i]):"medium"===i?a[0].style.length>1?a.css("fontSize",""):a.replaceWith(a.contents()):void 0})),this.editor.trigger("valuechanged")},n.Toolbar.addButton(i),i});
//# sourceMappingURL=../sourcemaps/buttons/FontScaleButton.js.map
